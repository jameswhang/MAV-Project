<launch>

       <!-- launch offboard control node -->

<arg name="sim" default="0"/>
<arg name="takeoff" default="1"/>
<!-- default control to be 1 (auto takeoff and landing) -->
<arg name = "cali" default = "0.002"/>


<group unless="$(arg sim)">
	<include file="$(find mavros)/launch/px4.launch"> </include>
</group>

<group if="$(arg sim)">
<include file="$(find mavros)/launch/px4_sitl.launch"> </include>
</group>

<node pkg="px4_offboard" type="teleop" name="teleop" output="screen">
<param name ="sim" type="bool" value="$(arg sim)"  />
<param name ="ctrl" type="int" value="$(arg ctrl)" />
</node>

<node pkg="px4_offboard" type="SLAM" name="fcu" output="screen">
<param name ="sim" type="bool" value="$(arg sim)"  />
<param name ="ctrl" type="int" value="$(arg ctrl)" />
<param name ="cali" type="double" value="$(arg cali)" />

</node>

</launch>
